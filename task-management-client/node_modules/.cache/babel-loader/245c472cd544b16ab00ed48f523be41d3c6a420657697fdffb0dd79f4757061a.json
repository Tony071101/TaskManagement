{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\TaskManagment\\\\task-management-client\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport TaskForm from \"./TaskForm\";\nimport hubConnection from \"./signalr\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_TASKS_URL = \"http://localhost:5001/api/tasks\";\nconst API_USERS_URL = \"http://localhost:5001/api/users\";\nconst App = () => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [user, setUser] = useState(null);\n  const [editingTask, setEditingTask] = useState(null);\n  const [showRegister, setShowRegister] = useState(false);\n  const [editingUser, setEditingUser] = useState(false);\n  useEffect(() => {\n    const storedUser = localStorage.getItem(\"user\");\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n  }, []);\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const res = await fetch(API_USERS_URL);\n        const data = await res.json();\n        setUsers(data);\n      } catch (error) {\n        console.error(\"Error fetching users:\", error);\n      }\n    };\n    fetchUsers();\n    if (hubConnection.state === \"Disconnected\") {\n      hubConnection.start().then(() => console.log(\"Connected to SignalR\")).catch(err => console.error(\"SignalR Connection Error:\", err));\n    } else {\n      console.warn(\"SignalR already connected or connecting...\");\n    }\n    const handleReceiveUserUpdate = updatedUsers => {\n      setUsers(updatedUsers);\n    };\n    hubConnection.on(\"ReceiveUserUpdate\", handleReceiveUserUpdate);\n    return () => {\n      hubConnection.off(\"ReceiveUserUpdate\", handleReceiveUserUpdate);\n    };\n  }, []);\n  useEffect(() => {\n    const fetchTasks = async () => {\n      try {\n        const res = await fetch(API_TASKS_URL);\n        const data = await res.json();\n        setTasks(data);\n      } catch (error) {\n        console.error(\"Error fetching tasks:\", error);\n      }\n    };\n    fetchTasks();\n    if (hubConnection.state === \"Disconnected\") {\n      hubConnection.start().then(() => console.log(\"Connected to SignalR\")).catch(err => console.error(\"SignalR Connection Error:\", err));\n    } else {\n      console.warn(\"SignalR already connected or connecting...\");\n    }\n    const handleReceiveTaskUpdate = updatedTasks => {\n      if (Array.isArray(updatedTasks)) {\n        setTasks(updatedTasks);\n      }\n    };\n    hubConnection.on(\"ReceiveTaskUpdate\", handleReceiveTaskUpdate);\n    return () => {\n      hubConnection.off(\"ReceiveTaskUpdate\", handleReceiveTaskUpdate);\n    };\n  }, []);\n\n  //Tạo Task (Create)\n  const handleCreateTask = async taskData => {\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) {\n        await refreshAccessToken(); // Làm mới token nếu cần thiết\n      }\n      const res = await fetch(API_TASKS_URL, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(taskData)\n      });\n      if (!res.ok) throw new Error(\"Failed to create task\");\n    } catch (error) {\n      console.error(\"Error creating task:\", error);\n    }\n  };\n\n  //Cập nhật Task (Update)\n  const handleUpdateTask = async updatedTask => {\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) {\n        await refreshAccessToken(); // Làm mới token nếu cần thiết\n      }\n      const res = await fetch(`${API_TASKS_URL}/${updatedTask.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(updatedTask)\n      });\n      if (!res.ok) throw new Error(\"Failed to update task\");\n      setEditingTask(null);\n    } catch (error) {\n      console.error(\"Error updating task:\", error);\n    }\n  };\n\n  //Xóa Task (Delete)\n  const handleDeleteTask = async id => {\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) {\n        await refreshAccessToken(); // Làm mới token nếu cần thiết\n      }\n      await fetch(`${API_TASKS_URL}/${id}`, {\n        method: \"DELETE\"\n      });\n    } catch (error) {\n      console.error(\"Error deleting task:\", error);\n    }\n    setEditingTask(null);\n  };\n\n  //Login\n  const handleLogin = async (email, password) => {\n    try {\n      const res = await fetch(\"http://localhost:5001/api/auth/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n      if (!res.ok) throw new Error(\"Login failed\");\n      const data = await res.json();\n\n      // Lưu token và user vào localStorage\n      localStorage.setItem(\"accessToken\", data.accessToken);\n      localStorage.setItem(\"refreshToken\", data.refreshToken);\n      localStorage.setItem(\"user\", JSON.stringify(data.user));\n      const avatarUrl = await fetchAvatar(data.user.id);\n      setUser({\n        ...data.user,\n        avatarUrl\n      });\n    } catch (error) {\n      console.error(\"Error logging in:\", error);\n    }\n  };\n  const handleRegister = async (name, email, password, avatarFile) => {\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"email\", email);\n    formData.append(\"password\", password);\n    if (avatarFile) {\n      formData.append(\"avatarFile\", avatarFile);\n    }\n    try {\n      const res = await fetch(\"http://localhost:5001/api/auth/register\", {\n        method: \"POST\",\n        body: formData\n      });\n      if (!res.ok) throw new Error(\"Register fail!\");\n      alert(\"register successed. please login.\");\n      showRegister(false);\n    } catch (error) {\n      console.error(\"Error registering: \", error);\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"accessToken\");\n    localStorage.removeItem(\"refreshToken\");\n    localStorage.removeItem(\"user\");\n    setUser(null);\n  };\n  const fetchAvatar = async userId => {\n    try {\n      const res = await fetch(`http://localhost:5001/api/users/avatar/${userId}`);\n      const data = await res.json();\n      return data.Avatar ? `data:image/png;base64,${data.Avatar}` : null;\n    } catch (error) {\n      console.error(\"Error fetching avatar:\", error);\n      return null;\n    }\n  };\n  const handleUpdateUser = async (updatedUser, avatarFile) => {\n    const formData = new FormData();\n    formData.append(\"id\", updatedUser.id);\n    formData.append(\"name\", updatedUser.name);\n    formData.append(\"email\", updatedUser.email);\n    formData.append(\"passwordHash\", updatedUser.passwordHash);\n    if (avatarFile) {\n      formData.append(\"avatarFile\", avatarFile);\n    }\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) {\n        await refreshAccessToken();\n      }\n      const res = await fetch(`${API_USERS_URL}/${updatedUser.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        },\n        body: formData\n      });\n      if (!res.ok) throw new Error(\"Failed to update user\");\n      const avatarUrl = await fetchAvatar(updatedUser.id);\n      setUser(prevUser => ({\n        ...prevUser,\n        ...updatedUser\n      }));\n      localStorage.setItem(\"user\", JSON.stringify({\n        ...user,\n        ...updatedUser,\n        avatarUrl\n      }));\n      setEditingUser(false);\n    } catch (error) {\n      console.error(\"Error updating user:\", error);\n    }\n  };\n  const refreshAccessToken = async () => {\n    const refreshToken = localStorage.getItem(\"refreshToken\");\n    if (!refreshToken) return null;\n    try {\n      const res = await fetch(\"http://localhost:5001/api/auth/refresh-token\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          refreshToken\n        })\n      });\n      if (!res.ok) throw new Error(\"Refresh token failed\");\n      const data = await res.json();\n      if (!data.accessToken || !data.refreshToken) {\n        throw new Error(\"Invalid refresh token response\");\n      }\n      localStorage.setItem(\"accessToken\", data.accessToken);\n      localStorage.setItem(\"refreshToken\", data.refreshToken);\n      return data.accessToken;\n    } catch (error) {\n      console.error(\"Error refreshing token:\", error);\n      return null;\n    }\n  };\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: showRegister ? \"Đăng ký\" : \"Đăng nhập\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), showRegister ? /*#__PURE__*/_jsxDEV(RegisterForm, {\n        onRegister: handleRegister,\n        onShowLogin: () => setShowRegister(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(LoginForm, {\n        onLogin: handleLogin,\n        onShowRegister: () => setShowRegister(true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [editingUser ? /*#__PURE__*/_jsxDEV(EditUserForm, {\n      user: user,\n      onUpdateUser: handleUpdateUser,\n      onCancel: () => setEditingUser(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: user.avatarUrl || \"https://dummyimage.com/50x50/000/fff\",\n        alt: \"Avatar\",\n        width: \"50\",\n        height: \"50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setEditingUser(true),\n        children: \"Ch\\u1EC9nh s\\u1EEDa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        children: \"\\u0110\\u0103ng xu\\u1EA5t\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Tasks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TaskForm, {\n      task: editingTask,\n      onCreateTask: handleCreateTask,\n      onUpdateTask: handleUpdateTask,\n      users: users\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n      style: {\n        listStyleType: \"none\"\n      },\n      children: tasks.map(task => {\n        var _users$find;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Title:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), \" \", task.title, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 50\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), \" \", task.description || \"No description\", \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 82\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), \" \", task.status, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 52\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Due Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), \" \", task.dueDate ? task.dueDate.split(\"T\")[0] : \"N/A\", \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 92\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Assigned To:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), \" \", ((_users$find = users.find(user => user.id === task.assignedToId)) === null || _users$find === void 0 ? void 0 : _users$find.name) || \"Unassigned\", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setEditingTask(task),\n            children: \"S\\u1EEDa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDeleteTask(task.id),\n            children: \"X\\xF3a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this)]\n        }, task.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"//Rt7BB1SVfcsWjmRkz64n5GFIk=\");\n_c = App;\nconst LoginForm = ({\n  onLogin,\n  onShowRegister\n}) => {\n  _s2();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const handleSubmit = e => {\n    e.preventDefault();\n    onLogin(email, password);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Email:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      value: email,\n      onChange: e => setEmail(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Password:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      value: password,\n      onChange: e => setPassword(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"\\u0110\\u0103ng nh\\u1EADp\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n? \", /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onShowRegister,\n        children: \"\\u0110\\u0103ng k\\xFD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 337,\n    columnNumber: 5\n  }, this);\n};\n_s2(LoginForm, \"3B3pqDcVnkT+z/sPK6Z9zQsLP+s=\");\n_c2 = LoginForm;\nconst RegisterForm = ({\n  onRegister,\n  onShowLogin\n}) => {\n  _s3();\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [avatarFile, setAvatarFile] = useState(null);\n  const handleSubmit = e => {\n    e.preventDefault();\n    onRegister(name, email, password, avatarFile);\n  };\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    setAvatarFile(file); // Lưu file khi người dùng chọn\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"T\\xEAn:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: name,\n      onChange: e => setName(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Email:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      value: email,\n      onChange: e => setEmail(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Password:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      value: password,\n      onChange: e => setPassword(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Avatar:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"\\u0110\\u0103ng k\\xFD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\u0110\\xE3 c\\xF3 t\\xE0i kho\\u1EA3n? \", /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onShowLogin,\n        children: \"\\u0110\\u0103ng nh\\u1EADp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 367,\n    columnNumber: 5\n  }, this);\n};\n_s3(RegisterForm, \"2qD3EW7wHC9EvTfJNu0jUCLcov0=\");\n_c3 = RegisterForm;\nconst EditUserForm = ({\n  user,\n  onUpdateUser,\n  onCancel\n}) => {\n  _s4();\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [avatarFile, setAvatarFile] = useState(null);\n  useEffect(() => {\n    if (user) {\n      setName(user.name || \"\");\n      setEmail(user.email || \"\");\n      setAvatarFile(user.avatarFile || null);\n    }\n  }, [user]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    onUpdateUser({\n      id: user.id,\n      name,\n      email,\n      password,\n      avatarFile\n    });\n  };\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    setAvatarFile(file); // Lưu file khi người dùng chọn\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"T\\xEAn:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: name,\n      onChange: e => setName(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Email:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      value: email,\n      onChange: e => setEmail(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"M\\u1EADt kh\\u1EA9u (\\u0111\\u1EC3 tr\\u1ED1ng n\\u1EBFu kh\\xF4ng \\u0111\\u1ED5i):\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      value: password,\n      onChange: e => setPassword(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Avatar:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"L\\u01B0u\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: onCancel,\n      children: \"H\\u1EE7y\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 409,\n    columnNumber: 5\n  }, this);\n};\n_s4(EditUserForm, \"Y7VAPWVsMCkRgifc70f3wTn/Jso=\");\n_c4 = EditUserForm;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"LoginForm\");\n$RefreshReg$(_c3, \"RegisterForm\");\n$RefreshReg$(_c4, \"EditUserForm\");","map":{"version":3,"names":["useState","useEffect","TaskForm","hubConnection","jsxDEV","_jsxDEV","API_TASKS_URL","API_USERS_URL","App","_s","tasks","setTasks","users","setUsers","user","setUser","editingTask","setEditingTask","showRegister","setShowRegister","editingUser","setEditingUser","storedUser","localStorage","getItem","JSON","parse","fetchUsers","res","fetch","data","json","error","console","state","start","then","log","catch","err","warn","handleReceiveUserUpdate","updatedUsers","on","off","fetchTasks","handleReceiveTaskUpdate","updatedTasks","Array","isArray","handleCreateTask","taskData","token","refreshAccessToken","method","headers","body","stringify","ok","Error","handleUpdateTask","updatedTask","id","handleDeleteTask","handleLogin","email","password","setItem","accessToken","refreshToken","avatarUrl","fetchAvatar","handleRegister","name","avatarFile","formData","FormData","append","alert","handleLogout","removeItem","userId","Avatar","handleUpdateUser","updatedUser","passwordHash","prevUser","children","fileName","_jsxFileName","lineNumber","columnNumber","RegisterForm","onRegister","onShowLogin","LoginForm","onLogin","onShowRegister","EditUserForm","onUpdateUser","onCancel","src","alt","width","height","onClick","task","onCreateTask","onUpdateTask","style","listStyleType","map","_users$find","title","description","status","dueDate","split","find","assignedToId","_c","_s2","setEmail","setPassword","handleSubmit","e","preventDefault","onSubmit","type","value","onChange","target","required","_c2","_s3","setName","setAvatarFile","handleFileChange","file","files","accept","_c3","_s4","_c4","$RefreshReg$"],"sources":["C:/Projects/TaskManagment/task-management-client/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport TaskForm from \"./TaskForm\";\nimport hubConnection from \"./signalr\";\n\nconst API_TASKS_URL = \"http://localhost:5001/api/tasks\";\nconst API_USERS_URL = \"http://localhost:5001/api/users\";\n\nconst App = () => {\n  const [tasks, setTasks] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [user, setUser] = useState(null);\n  const [editingTask, setEditingTask] = useState(null);\n  const [showRegister, setShowRegister] = useState(false);\n  const [editingUser, setEditingUser] = useState(false);\n  \n  useEffect(() => {\n    const storedUser = localStorage.getItem(\"user\");\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n  }, []);\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const res = await fetch(API_USERS_URL);\n        const data = await res.json();\n        setUsers(data);\n      } catch (error) {\n        console.error(\"Error fetching users:\", error);\n      }\n    };\n  \n    fetchUsers();\n\n    if (hubConnection.state === \"Disconnected\") {\n      hubConnection\n        .start()\n        .then(() => console.log(\"Connected to SignalR\"))\n        .catch((err) => console.error(\"SignalR Connection Error:\", err));\n    } else {\n      console.warn(\"SignalR already connected or connecting...\");\n    }\n\n    const handleReceiveUserUpdate = (updatedUsers) => {\n        setUsers(updatedUsers);\n    };\n\n    hubConnection.on(\"ReceiveUserUpdate\", handleReceiveUserUpdate);\n\n    return () => {\n        hubConnection.off(\"ReceiveUserUpdate\", handleReceiveUserUpdate);\n    };\n  }, []);\n\n  useEffect(() => {\n    const fetchTasks = async () => {\n      try {\n        const res = await fetch(API_TASKS_URL);\n        const data = await res.json();\n        setTasks(data);\n      } catch (error) {\n        console.error(\"Error fetching tasks:\", error);\n      }\n    };\n  \n    fetchTasks();\n  \n    if (hubConnection.state === \"Disconnected\") {\n      hubConnection\n        .start()\n        .then(() => console.log(\"Connected to SignalR\"))\n        .catch((err) => console.error(\"SignalR Connection Error:\", err));\n    } else {\n      console.warn(\"SignalR already connected or connecting...\");\n    }\n  \n    const handleReceiveTaskUpdate = (updatedTasks) => {\n      if (Array.isArray(updatedTasks)) {\n        setTasks(updatedTasks);\n      }\n    };\n  \n    hubConnection.on(\"ReceiveTaskUpdate\", handleReceiveTaskUpdate);\n  \n    return () => {\n      hubConnection.off(\"ReceiveTaskUpdate\", handleReceiveTaskUpdate);\n    };\n  }, []);\n  \n\n  //Tạo Task (Create)\n  const handleCreateTask = async (taskData) => {\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) {\n        await refreshAccessToken(); // Làm mới token nếu cần thiết\n      }\n      const res = await fetch(API_TASKS_URL, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(taskData),\n      });\n      if (!res.ok) throw new Error(\"Failed to create task\");\n    } catch (error) {\n      console.error(\"Error creating task:\", error);\n    }\n  };\n\n  //Cập nhật Task (Update)\n  const handleUpdateTask = async (updatedTask) => {\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) {\n        await refreshAccessToken(); // Làm mới token nếu cần thiết\n      }\n      const res = await fetch(`${API_TASKS_URL}/${updatedTask.id}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(updatedTask),\n      });\n      if (!res.ok) throw new Error(\"Failed to update task\");\n      setEditingTask(null);\n    } catch (error) {\n      console.error(\"Error updating task:\", error);\n    }\n  };\n\n  //Xóa Task (Delete)\n  const handleDeleteTask = async (id) => {\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) {\n        await refreshAccessToken(); // Làm mới token nếu cần thiết\n      }\n      await fetch(`${API_TASKS_URL}/${id}`, { method: \"DELETE\" });\n    } catch (error) {\n      console.error(\"Error deleting task:\", error);\n    }\n    setEditingTask(null);\n  };\n\n  //Login\n  const handleLogin = async (email, password) => {\n    try {\n        const res = await fetch(\"http://localhost:5001/api/auth/login\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ email, password }),\n        });\n        if (!res.ok) throw new Error(\"Login failed\");\n        const data = await res.json();\n        \n        // Lưu token và user vào localStorage\n        localStorage.setItem(\"accessToken\", data.accessToken);\n        localStorage.setItem(\"refreshToken\", data.refreshToken);\n        localStorage.setItem(\"user\", JSON.stringify(data.user));\n\n        const avatarUrl = await fetchAvatar(data.user.id);\n        setUser({ ...data.user, avatarUrl });\n    } catch (error) {\n        console.error(\"Error logging in:\", error);\n    }\n  };\n\n\n  const handleRegister = async (name, email, password, avatarFile) => {\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"email\", email);\n    formData.append(\"password\", password);\n    if(avatarFile) {\n      formData.append(\"avatarFile\", avatarFile);\n    }\n\n    try {\n      const res = await fetch(\"http://localhost:5001/api/auth/register\", {\n        method: \"POST\",\n        body: formData,\n      });\n      if(!res.ok) throw new Error(\"Register fail!\");\n      alert(\"register successed. please login.\");\n      showRegister(false);\n    } catch (error) {\n      console.error(\"Error registering: \", error);\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"accessToken\");\n    localStorage.removeItem(\"refreshToken\");\n    localStorage.removeItem(\"user\");\n    setUser(null);\n  };\n\n  const fetchAvatar = async (userId) => {\n    try {\n      const res = await fetch(`http://localhost:5001/api/users/avatar/${userId}`);\n      const data = await res.json();\n      return data.Avatar ? `data:image/png;base64,${data.Avatar}` : null;\n    } catch (error) {\n      console.error(\"Error fetching avatar:\", error);\n      return null;\n    }\n  };\n\n\n  const handleUpdateUser = async (updatedUser, avatarFile) => {\n    const formData = new FormData();\n    formData.append(\"id\", updatedUser.id);\n    formData.append(\"name\", updatedUser.name);\n    formData.append(\"email\", updatedUser.email);\n    formData.append(\"passwordHash\", updatedUser.passwordHash);\n    if (avatarFile) {\n        formData.append(\"avatarFile\", avatarFile);\n    }\n\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n      if (!token) {\n        await refreshAccessToken();\n      }\n      const res = await fetch(`${API_USERS_URL}/${updatedUser.id}`, {\n        method: \"PUT\",\n        headers: { \n          \"Authorization\": `Bearer ${token}`\n        },\n        body: formData,\n      });\n      if (!res.ok) throw new Error(\"Failed to update user\");\n  \n      const avatarUrl = await fetchAvatar(updatedUser.id);\n      setUser((prevUser) => ({ ...prevUser, ...updatedUser }));\n      localStorage.setItem(\"user\", JSON.stringify({ ...user, ...updatedUser, avatarUrl }));\n\n      setEditingUser(false);\n    } catch (error) {\n      console.error(\"Error updating user:\", error);\n    }\n  };\n\n  const refreshAccessToken = async () => {\n    const refreshToken = localStorage.getItem(\"refreshToken\");\n    if (!refreshToken) return null;\n  \n    try {\n      const res = await fetch(\"http://localhost:5001/api/auth/refresh-token\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ refreshToken }),\n      });\n      if (!res.ok) throw new Error(\"Refresh token failed\");\n  \n      const data = await res.json();\n      if (!data.accessToken || !data.refreshToken) {\n        throw new Error(\"Invalid refresh token response\");\n      }\n  \n      localStorage.setItem(\"accessToken\", data.accessToken);\n      localStorage.setItem(\"refreshToken\", data.refreshToken);\n      return data.accessToken;\n    } catch (error) {\n      console.error(\"Error refreshing token:\", error);\n      return null;\n    }\n  };\n\n  if (!user) {\n    return (\n      <div>\n        <h2>{showRegister ? \"Đăng ký\" : \"Đăng nhập\"}</h2>\n        {showRegister ? (\n          <RegisterForm onRegister={handleRegister} onShowLogin={() => setShowRegister(false)} />\n        ) : (\n          <LoginForm onLogin={handleLogin} onShowRegister={() => setShowRegister(true)} />\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {editingUser ? (\n        <EditUserForm \n          user={user} \n          onUpdateUser={handleUpdateUser} \n          onCancel={() => setEditingUser(false)} \n        />\n      ) : (\n        <div>\n          <img\n            src={user.avatarUrl || \"https://dummyimage.com/50x50/000/fff\"}\n            alt=\"Avatar\"\n            width=\"50\"\n            height=\"50\"\n          />\n          <span>{user.name}</span>\n          <button onClick={() => setEditingUser(true)}>Chỉnh sửa</button>\n          <button onClick={handleLogout}>Đăng xuất</button>\n        </div>\n      )}\n\n      <h1>Tasks</h1>\n      <TaskForm\n        task={editingTask}\n        onCreateTask={handleCreateTask}\n        onUpdateTask={handleUpdateTask}\n        users={users}\n      />\n      <ol style={{ listStyleType: \"none\" }}>\n        {tasks.map((task) => (\n          <li key={task.id}>\n            <strong>Title:</strong> {task.title} <br />\n            <strong>Description:</strong> {task.description || \"No description\"} <br />\n            <strong>Status:</strong> {task.status} <br />\n            <strong>Due Date:</strong> {task.dueDate ? task.dueDate.split(\"T\")[0] : \"N/A\"} <br />\n            <strong>Assigned To:</strong> {users.find((user) => user.id === task.assignedToId)?.name || \"Unassigned\"}\n            <button onClick={() => setEditingTask(task)}>Sửa</button>\n            <button onClick={() => handleDeleteTask(task.id)}>Xóa</button>\n          </li>\n        ))}\n      </ol>\n    </div>\n  );\n};\n\nconst LoginForm = ({ onLogin, onShowRegister }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onLogin(email, password);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <label>Email:</label>\n      <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n      <label>Password:</label>\n      <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\n      <button type=\"submit\">Đăng nhập</button>\n      <p>\n        Chưa có tài khoản? <button type=\"button\" onClick={onShowRegister}>Đăng ký</button>\n      </p>\n    </form>\n  );\n};\n\nconst RegisterForm = ({ onRegister, onShowLogin }) => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [avatarFile, setAvatarFile] = useState(null);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onRegister(name, email, password, avatarFile);\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    setAvatarFile(file); // Lưu file khi người dùng chọn\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <label>Tên:</label>\n      <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} required />\n      <label>Email:</label>\n      <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n      <label>Password:</label>\n      <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\n      <label>Avatar:</label>\n      <input type=\"file\" accept=\"image/\" onChange={handleFileChange} />\n      <button type=\"submit\">Đăng ký</button>\n      <p>\n        Đã có tài khoản? <button type=\"button\" onClick={onShowLogin}>Đăng nhập</button>\n      </p>\n    </form>\n  );\n};\n\nconst EditUserForm = ({ user, onUpdateUser, onCancel }) => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\"); \n  const [avatarFile, setAvatarFile] = useState(null);\n\n  useEffect(() => {\n    if (user) {\n      setName(user.name || \"\");\n      setEmail(user.email || \"\");\n      setAvatarFile(user.avatarFile || null);\n    }\n  }, [user]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateUser({ id: user.id, name, email, password, avatarFile });\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    setAvatarFile(file); // Lưu file khi người dùng chọn\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <label>Tên:</label>\n      <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} required />\n      <label>Email:</label>\n      <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n      <label>Mật khẩu (để trống nếu không đổi):</label>\n      <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n      <label>Avatar:</label>\n      <input type=\"file\" accept=\"image/*\" onChange={handleFileChange} />\n      <button type=\"submit\">Lưu</button>\n      <button type=\"button\" onClick={onCancel}>Hủy</button>\n    </form>\n  );\n};\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}